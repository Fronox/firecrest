<!--
--  Copyright (c) 2019-2020, ETH Zurich. All rights reserved.
--
--  Please, refer to the LICENSE file in the root directory.
--  SPDX-License-Identifier: BSD-3-Clause
  -->
{% extends "demo_base.html" %}
{% block title %}External File Upload{% endblock %}
{% block content %}


  <h1>Large data transfer to CSCS</h1>

  {% if response != None %}
    {% if not response.ok %}
      <div class="bg-danger" style="display: block; border-color: red; border-style: solid" id="error">
	    <h3>Error</h3>
	    <p>{{ response.json()["error"] }}</p>
	    <a href="{{ request.url_root}}storage/upload">Try again</a>
	  </div>
    {% endif %}
  {% else %}
    <h2>Step 1: Select directory where to store file in CSCS and your local file</h2>

      {# {{ wtf.quick_form(form) }} #}

      <form class="form-group" action="upload" method="post">

        <table style="border-spacing: 20px;">

            <tr><td style="padding-right: 20px"><b>Target path</b></td><td>{{ form.targetPath(class="form-control") }}</td></tr>
            <tr><td style="padding-right: 20px"><b>Source file</b></td><td>{{ form.sourcePath(class="form-control") }}</td></tr>
            <tr><td style="padding-right: 20px">{{ form.submit(class="form-control") }}</td></tr>

        </table>


      </form>

  {% endif %}
{% endblock %}
