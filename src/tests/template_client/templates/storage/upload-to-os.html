<!--
--  Copyright (c) 2019-2020, ETH Zurich. All rights reserved.
--
--  Please, refer to the LICENSE file in the root directory.
--  SPDX-License-Identifier: BSD-3-Clause
  -->
{% extends "demo_base.html" %}
{% block title %}External File Upload{% endblock %}
{% block content %}

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script type="text/javascript">

</script>


  <h1>Submit your file to staging area</h1>

  {% if response != None %}
    {% if response.status_code == 200 %}

      <form enctype="multipart/form-data"
	    method="{{ response.json()['task']['data']['msg']['method'] }}"
            action="{{ response.json()['task']['data']['msg']['url'] }}" >
	<table>

        <tr><td>Max file size</td><td><input type="text" name="max_file_size" value="{{ response.json()['task']['data']['msg']['max_file_size'] }}"></td></tr>
        <tr><td>Max file count</td><td><input type="text" name="max_file_count" value="{{ response.json()['task']['data']['msg']['max_file_count'] }}"></td></tr>
        <tr><td>Expires</td><td><input type="text" name="expires" value="{{ response.json()['task']['data']['msg']['expires'] }}"></td></tr>
        <tr><td>Signature</td><td><input type="text" name="signature" value="{{ response.json()['task']['data']['msg']['signature'] }}"></td></tr>
        <tr><td>Redirect</td><td><input type="text" name="redirect" value="{{ response.json()['task']['data']['msg']['redirect'] }}"></td></tr>
        <tr><td>Source Path</td><td><input type="file" name="{{response.json()['task']['data']['msg']['sourcepath'] }}"></td></tr>

        <tr><td><input type="submit"></td></tr>

        </table>


      </form>
    {% else %}
      {{ response.json()['error'] }}
    {% endif %}
  {% endif %}
{% endblock %}
